<div *ngIf="isLoading" class="loading-spinner">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div class="selection-container" *ngIf="!isLoading">
  <h2 class="text-center">Select Game Mode</h2>
  
  <!-- Game Mode Categories -->
  <div class="game-category">
    <h3>Classic Game Modes</h3>
    <div class="game-mode-grid">
      <!-- 1v1 PVE -->
      <div class="game-mode-card" routerLink="/games/local-pve/">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" class="pve-icon"></circle>
          </svg>
        </div>
        <h4>Player vs Environment (PVE)</h4>
        <p>Test your skills against AI opponents in a solo challenge.</p>
      </div>
      
      <!-- Local 1v1 PvP -->
      <div class="game-mode-card" routerLink="/games/local-pvp/">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <rect x="5" y="5" width="6" height="6" class="local-pvp-icon"></rect>
            <rect x="13" y="13" width="6" height="6" class="local-pvp-icon"></rect>
          </svg>
        </div>
        <h4>Local Player vs Player (PvP)</h4>
        <p>Engage in a 1v1 match with a friend on the same device.</p>
      </div>

      <!-- Online 1v1 PvP -->
      <div class="game-mode-card" routerLink="/games/online-pvp/rooms/">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <polygon points="12,2 22,12 12,22 2,12" class="online-pvp-icon"></polygon>
          </svg>
        </div>
        <h4>Online Player vs Player (PvP)</h4>
        <p>Compete in real-time 1v1 matches against online players.</p>
      </div>
    </div>
  </div>

  <!-- Tournament Modes -->
  <div class="game-category">
    <h3>Tournament Modes</h3>
    <div class="game-mode-grid">
      <!-- Local Tournament -->
      <div class="game-mode-card" routerLink="/games/tournament/local/start">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <circle cx="6" cy="6" r="2.5" class="local-tournament-icon"></circle>
            <circle cx="18" cy="6" r="2.5" class="local-tournament-icon"></circle>
            <circle cx="12" cy="12" r="2.5" class="local-tournament-icon"></circle>
            <line x1="6" y1="6" x2="12" y2="12" class="local-tournament-icon"></line>
            <line x1="18" y1="6" x2="12" y2="12" class="local-tournament-icon"></line>
          </svg>
        </div>
        <h4>Local Tournament</h4>
        <p>Organize a tournament with friends on the same device.</p>
      </div>

      <!-- Online Tournament -->
      <div class="game-mode-card" routerLink="/games/tournament/online/start">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" class="online-tournament-icon"></circle>
            <circle cx="12" cy="12" r="5" class="online-tournament-icon"></circle>
          </svg>
        </div>
        <h4>Online Tournament</h4>
        <p>Join or create an online tournament and compete for the top spot.</p>
      </div>
    </div>
  </div>

  <!-- Party Modes -->
  <div class="game-category">
    <h3>Party Modes</h3>
    <div class="game-mode-grid">
      <!-- Chaos Mode -->
      <div class="game-mode-card" routerLink="/games/chaos">
        <div class="icon">
          <svg viewBox="0 0 64 64">
            <polygon points="32,4 40,24 60,24 44,36 52,56 32,44 12,56 20,36 4,24 24,24" fill="#F5A623" stroke="#F5A623" stroke-width="2"/>
            <circle cx="32" cy="32" r="6" fill="#fff"/>
          </svg>
        </div>
        <h4>Chaos Mode</h4>
        <p>Experience unpredictable gameplay with powerups.</p>
      </div>

      <!-- Online Chaos Mode -->
      <div class="game-mode-card" routerLink="/games/online-pvp-chaos/rooms/">
        <div class="icon">
          <svg viewBox="0 0 64 64">
            <polygon points="32,4 40,24 60,24 44,36 52,56 32,44 12,56 20,36 4,24 24,24" fill="#D0021B" stroke="#D0021B" stroke-width="2"/>
            <circle cx="32" cy="32" r="6" fill="#fff"/>
          </svg>
        </div>
        <h4>Online Chaos Mode</h4>
        <p>Play online with powerups for a chaotic experience.</p>
      </div>

      <!--Arena -->
      <div class="game-mode-card" routerLink="/games/arena">
        <div class="icon">
          <svg viewBox="0 0 64 64">
            <circle cx="32" cy="32" r="30" stroke="#4A90E2" stroke-width="4" fill="none"/>
            <path d="M16 48 L32 16 L48 48 Z" fill="#4A90E2" opacity="0.7"/>
            <circle cx="32" cy="32" r="4" fill="#fff"/>
          </svg>
        </div>
        <h4>Arena</h4>
        <p>Engage in a free-for-all battle in the arena.</p>
      </div>

      <!-- Online Arena -->
      <div class="game-mode-card" routerLink="/games/online-arena/rooms/">
        <div class="icon">
          <svg viewBox="0 0 64 64">
            <circle cx="32" cy="32" r="30" stroke="#E94E77" stroke-width="4" fill="none"/>
            <path d="M16 48 L32 16 L48 48 Z" fill="#E94E77" opacity="0.7"/>
            <circle cx="32" cy="32" r="4" fill="#fff"/>
          </svg>
        </div>
        <h4>Online Arena</h4>
        <p>Fight a free-for-all battle online in the arena.</p>
      </div>
    </div>
  </div>
</div>
