<!-- user-details.component.html -->
<div class="user-details-container" *ngIf="user; else errorTemplate">
    <h2>{{ user.username }}'s Profile</h2>
    <p><strong>Display Name:</strong> {{ user.profile?.display_name || user.display_name }}</p>
    <img *ngIf="user.profile?.avatar || user.avatar" [src]="user.profile?.avatar || user.avatar" alt="Avatar" class="avatar">
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>2FA Enabled:</strong> {{ user.profile?.is_2fa_enabled ? 'Yes' : 'No' }}</p>
    <p><strong>Status:</strong> {{ user.is_online ? 'Online' : 'Offline' }}</p>
  
    <h3>{{ user.username }}'s Games</h3>
    <ul *ngIf="games.length > 0; else noGamesTemplate">
      <li *ngFor="let game of games">
        <a [routerLink]="['/games/details/', game.id]">
            {{ game.player1.username }} vs {{ game.player2?.username || 'AI' }} - 
            Mode: {{ game.game_mode }} - 
            Score: {{ game.score_player1 }} : {{ game.score_player2 }}
            <span *ngIf="game.is_completed"> (Completed)</span>
          </a>
      </li>
    </ul>
  </div>
  
  <ng-template #errorTemplate>
    <p class="error-message">{{ errorMessage }}</p>
  </ng-template>
  
  <ng-template #noGamesTemplate>
    <p>This user has no games.</p>
  </ng-template>
  