<div class="tournament-tree">
  <h1>Tournament Tree</h1>
  <div *ngIf="tournament">
    <!-- Single Elimination Bracket -->
    <div *ngIf="tournament.tournamentType === 'Single Elimination'" class="single-elimination-bracket">
      <div *ngFor="let round of tournament.rounds; let r = index" class="round">
        <ng-container *ngIf="round">
          <h4>Round {{ r + 1 }} - {{ round.roundName }}</h4>
          <div *ngFor="let match of round.matches" class="match">
            <div class="player">
              {{ match?.player1 || 'TBD' }} - Score: {{ match?.player1Score || 0 }}
            </div>
            <div class="vs">vs</div>
            <div class="player">
              {{ match?.player2 || 'TBD' }} - Score: {{ match?.player2Score || 0 }}
            </div>
            <div *ngIf="match?.winner" class="winner">
              Winner: {{ match.winner }}
            </div>
            <div *ngIf="!match?.player1 || !match?.player2" class="info">
              Waiting for players...
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Round Robin Bracket -->
    <div *ngIf="tournament?.tournamentType === 'Round Robin'" class="round-robin-bracket">
      <div *ngFor="let round of tournament.rounds; let r = index" class="round">
        <ng-container *ngIf="round">
          <h4>Round {{ r + 1 }} - {{ round.roundName }}</h4>
          <div *ngFor="let match of round.matches" class="match">
            <div class="player">
              {{ match?.player1 || 'TBD' }} - Score: {{ match?.player1Score || 0 }}
            </div>
            <div class="vs">vs</div>
            <div class="player">
              {{ match?.player2 || 'TBD' }} - Score: {{ match?.player2Score || 0 }}
            </div>
            <div *ngIf="match?.winner" class="winner">
              Winner: {{ match.winner }}
            </div>
            <div *ngIf="!match?.player1 || !match?.player2" class="info">
              Waiting for players...
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>